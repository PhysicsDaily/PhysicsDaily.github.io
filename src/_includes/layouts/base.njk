<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} - Physics Daily</title>
    <meta name="description" content="{{ description }}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/global.css">
    <link rel="stylesheet" href="/assets/css/header-fixed.css">
    <link rel="stylesheet" href="/assets/css/auth-styles.css">

    {% if pageStyles %}
        {% if pageStyles is string %}
            <link rel="stylesheet" href="{{ pageStyles }}">
        {% else %}
            {% for styleHref in pageStyles %}
                <link rel="stylesheet" href="{{ styleHref }}">
            {% endfor %}
        {% endif %}
    {% endif %}

    {% if headExtra %}
        {{ headExtra | safe }}
    {% endif %}
</head>
{% set resolvedBodyClass = bodyClass or "has-fixed-header auth-pending" %}
<body class="{{ resolvedBodyClass }}">

    <div id="global-header"></div>

    {% if skipMainWrapper %}
        {{ content | safe }}
    {% else %}
        <main id="main-content" class="main-content" role="main">
            {{ content | safe }}
        </main>
    {% endif %}

    <div id="global-footer"></div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script src="/assets/js/firebase-config.js"></script>
    <script src="/assets/js/auth-manager.js"></script>
    <script src="/assets/js/auth-ui.js"></script>
    <script src="/assets/js/header-loader.js"></script>
    <script src="/assets/js/auth-navigation.js"></script>
    <script src="/assets/js/global.js"></script>

    {% if pageScripts %}
        {% set scripts = pageScripts if pageScripts is iterable and (pageScripts is not string) else [pageScripts] %}
        {% for script in scripts %}
            {% if script.src %}
                <script
                    src="{{ script.src }}"
                    {% if script.type %}type="{{ script.type }}"{% endif %}
                    {% if script.async %}async{% endif %}
                    {% if script.defer %}defer{% endif %}
                ></script>
            {% elif script.content %}
                <script{% if script.type %} type="{{ script.type }}"{% endif %}>{{ script.content | safe }}</script>
            {% else %}
                <script>{{ script | safe }}</script>
            {% endif %}
        {% endfor %}
    {% endif %}

    {% if bodyExtra %}
        {{ bodyExtra | safe }}
    {% endif %}

</body>
</html>
